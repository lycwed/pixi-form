(()=>{var t={138:(t,i,e)=>{var s=e(262),o={form:{TextInput:s.TextInput,TextInputStyles:s.TextInputStyles}};Object.assign(PIXI,o),t.exports=o},262:(t,i,e)=>{"use strict";e.r(i),e.d(i,{TextInputStyles:()=>s,TextInput:()=>o});class s{constructor(t){this.width=t.width||200,this.color=t.color||3355443,this.padding=t.padding||4,this.fontSize=t.fontSize||13,this.fontFamily=t.fontFamily||"Arial",this.backgroundColor=t.backgroundColor||15724527,this.border={color:16777215,width:0,radius:0,...t.border}}}class o extends PIXI.Container{constructor(t){super(),this._type=t.type||"text",this._placeholder=t.placeholder,this._rules=t.rules||[],this._styles=Object.assign({position:"absolute",backgroundColor:16777215,transformOrigin:"0 0",outline:"none",border:"none",lineHeight:"1"},t.styles||new s({})),this._box_generator=new d({error:{fill:this._styles.backgroundColor,rounded:this._styles.border.radius,stroke:{color:16711680,width:this._styles.border.width}},valid:{fill:this._styles.backgroundColor,rounded:this._styles.border.radius,stroke:{color:65280,width:this._styles.border.width}},default:{fill:this._styles.backgroundColor,rounded:this._styles.border.radius,stroke:{color:this._styles.border.color,width:this._styles.border.width}},focused:{fill:this._styles.backgroundColor,rounded:this._styles.border.radius,stroke:{color:this._styles.border.color,width:this._styles.border.width}},disabled:{fill:this._styles.backgroundColor,rounded:this._styles.border.radius}}),this._styles.hasOwnProperty("multiline")?(this._multiline=!!this._styles.multiline,delete this._styles.multiline):this._multiline=!1,this._box_cache={},this._previous={},this._dom_added=!1,this._dom_visible=!0,this._placeholderColor=11119017,this._selection=[0,0],this._restrict_value="",this._createDOMInput(),this.substituteText=!0,this._setState("DEFAULT"),this._addListeners()}get substituteText(){return this._substituted}set substituteText(t){this._substituted!==t&&(this._substituted=t,t?(this._createPIXIField(),this._dom_visible=!1):(this._destroyPIXIField(),this._dom_visible=!0),this.placeholder=this._placeholder,this._update())}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this._substituted?(this._updatePIXIField(),this._dom_input.placeholder=""):this._dom_input.placeholder=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._dom_input.disabled=t,this._setState(t?"DISABLED":"DEFAULT")}get maxLength(){return this._max_length}set maxLength(t){this._max_length=t,this._dom_input.setAttribute("maxlength",t)}get restrict(){return this._restrict_regex}set restrict(t){t instanceof RegExp?("^"!==(t=t.toString().slice(1,-1)).charAt(0)&&(t="^"+t),"$"!==t.charAt(t.length-1)&&(t+="$"),t=new RegExp(t)):t=new RegExp("^["+t+"]*$"),this._restrict_regex=t}get text(){return this._dom_input.value}set text(t){this._dom_input.value=t,this._substituted&&this._updatePIXIField()}get htmlInput(){return this._dom_input}focus(){this._substituted&&!this.dom_visible&&this._setDOMInputVisible(!0),this._dom_input.focus()}blur(){this._dom_input.blur()}select(){this.focus(),this._dom_input.select()}setInputStyle(t,i,e){this._dom_input.style[t]=i,this._dom_copy.style[t]=i,"number"!=typeof i&&["fontSize","padding","width"].includes(t)&&(i=parseInt(i.replace("px",""))),!0===e&&(this._styles[t]=i),"padding"===t&&(this._dom_copy.style.width=this._dom_copy.style.width-2*this._dom_copy.style.padding,this._dom_copy.style.padding=0),!this._substituted||"fontFamily"!==t&&"fontSize"!==t||this._updateFontMetrics(),this._last_renderer&&this._update()}destroy(t){this._destroyBoxCache(),super.destroy(t)}_createDOMInput(){var t=(new Date).getTime();this._multiline?(this._dom_input=document.createElement("textarea"),this._dom_input.style.resize="none"):(this._dom_input=document.createElement("input"),this._dom_input.id=`input_${t}`,this._dom_input.type=this._type),this._dom_copy=document.createElement("p"),this._dom_copy.id=`copy_${t}`,this._dom_copy.style.textAlign="left",this._dom_copy.style.overflow="hidden",this._dom_copy.style.whiteSpace="nowrap",this._updateDOMStyle()}_updateDOMStyle(){var t=["fontSize","padding","width"];for(let e in this._styles){var i=this._styles[e];"number"==typeof i&&t.includes(e)&&(i+="px"),this.setInputStyle(e,i)}}_addListeners(){this.on("added",this._onAdded.bind(this)),this.on("removed",this._onRemoved.bind(this)),this._dom_input.addEventListener("keydown",this._onInputKeyDown.bind(this)),this._dom_input.addEventListener("click",this._onInputKeyDown.bind(this)),this._dom_input.addEventListener("input",this._onInputInput.bind(this)),this._dom_input.addEventListener("keyup",this._onInputKeyUp.bind(this)),this._dom_input.addEventListener("focus",this._onFocused.bind(this)),this._dom_input.addEventListener("blur",this._onBlurred.bind(this))}_onInputKeyDown(t){this._selection=[this._dom_input.selectionStart,this._dom_input.selectionEnd],this._updateCaret(),this.emit("keydown",t.keyCode)}_onInputInput(t){this._restrict_regex&&this._applyRestriction(),this._substituted&&this._updateSubstitution(),this._updateCaret(),this._updateDOMCopy(),this.emit("input",this.text)}_onInputKeyUp(t){this.emit("keyup",t.keyCode)}_onFocused(){this._setState("FOCUSED"),this.emit("focus")}_onBlurred(){const t=this._checkRules();this._setState(t),this.emit("blur")}_onAdded(){document.body.appendChild(this._dom_input),document.body.appendChild(this._dom_copy),this._dom_input.style.display="none",this._dom_copy.style.display="none",this._dom_added=!0}_onRemoved(){document.body.removeChild(this._dom_input),this._dom_added=!1}_setState(t){this.state=t,this._updateBox(),this._substituted&&this._updateSubstitution()}_checkRules(){const t=/^([a-z0-9-_]+){2}@([a-z0-9-_]+){2}\.([a-z]+){2}$/,i=/^\d+$/,e=/^(?:.*[A-Za-z])$/;let s="VALID";for(let o=0,h=this._rules.length;o<h;o++){const h=this._rules[o];if(h.type){if("required"===h.type){if(this.text&&this.text.trim().length)continue;s="ERROR"}if(this.text)if("email"===h.type){if(t.test(this.text))continue;s="ERROR"}else if("number"===h.type){if(i.test(this.text))continue;s="ERROR"}else if("string"===h.type){if(e.test(this.text))continue;s="ERROR"}else if(h.type.includes("min:")){const t=parseInt(h.type.replace("min:",""));if(!(this.text.length<t))continue;s="ERROR"}}else h.validator?h.validator(this.text)||(s="ERROR"):console.warn("you must set validate function to performed");if("ERROR"===s){h.onFail&&h.onFail();break}}return s}renderWebGL(t){super.renderWebGL(t),this._renderInternal(t)}renderCanvas(t){super.renderCanvas(t),this._renderInternal(t)}render(t){super.render(t),this._renderInternal(t)}_renderInternal(t){this._resolution=t.resolution,this._last_renderer=t,this._canvas_bounds=this._getCanvasBounds(),this._needsUpdate()&&this._update()}_update(){this._updateDOMInput(),this._createCaret(),this._substituted&&this._updatePIXIField(),this._updateBox()}_updateDOMCopy(){const t=this.text.split("").map((t=>("password"!==this._type?" "===t&&(t="&nbsp;"):t="â€¢",`<span style="display:inline-block;">${t}</span>`)));this._dom_copy.innerHTML=t.join("")}_updateCaret(){setTimeout((()=>{let t=this._styles.padding;if(this._dom_copy.childNodes.length&&this._dom_input.selectionEnd){const i=this._dom_copy.childNodes[this._dom_input.selectionEnd-1];this._dom_copy.offsetWidth-this._dom_copy.scrollWidth<0?t+=this._dom_copy.offsetWidth:t=t+i.offsetLeft+i.offsetWidth}this._caret.x=t,this._caret.y=this._styles.padding,this._caret.height=this._font_metrics.fontSize+4,this._updatePIXIField()}),50)}_updateCaretPosition(t){}_createCaret(){this._caret?this._updateCaret():(this._caret=new h({fill:3355443,width:2,height:this._font_metrics.fontSize}),this._caret.visible=!1,this.addChild(this._caret))}_updateBox(){this._box_generator&&(this._needsNewBoxCache()&&this._buildBoxCache(),this.state===this._previous.state&&this._box===this._box_cache[this.state]||(this._box&&this.removeChild(this._box),this._box=this._box_cache[this.state],this.addChildAt(this._box,0),this._previous.state=this.state))}_updateSubstitution(){"FOCUSED"===this.state?(this._dom_visible=!0,this._caret&&(this._caret.visible=!0)):this._caret&&(this._caret.visible=!1),this._updateDOMInput(),this._updatePIXIField()}_updateDOMInput(){this._canvas_bounds&&(this._dom_input.style.zIndex=-10,this._dom_input.style.top=(this._canvas_bounds.top+this.height||0)+"px",this._dom_input.style.left=(this._canvas_bounds.left||0)+"px",this._dom_input.style.transform=this._pixiMatrixToCSS(this._getDOMRelativeWorldTransform()),this._dom_input.style.opacity=this.worldAlpha,this._setDOMInputVisible(this.worldVisible&&this._dom_visible),this._dom_copy.style.zIndex=-10,this._dom_copy.style.top=(this._canvas_bounds.top+2*this.height||0)+"px",this._dom_copy.style.left=(this._canvas_bounds.left||0)+"px",this._dom_copy.style.transform=this._pixiMatrixToCSS(this._getDOMRelativeWorldTransform()),this._dom_copy.style.opacity=this.worldAlpha,this._previous.canvas_bounds=this._canvas_bounds,this._previous.world_transform=this.worldTransform.clone(),this._previous.world_alpha=this.worldAlpha,this._previous.world_visible=this.worldVisible)}_applyRestriction(){this._restrict_regex.test(this.text)?this._restrict_value=this.text:(this.text=this._restrict_value,this._dom_input.setSelectionRange(this._selection[0],this._selection[1]))}_needsUpdate(){return!this._comparePixiMatrices(this.worldTransform,this._previous.world_transform)||!this._compareClientRects(this._canvas_bounds,this._previous.canvas_bounds)||this.worldAlpha!=this._previous.world_alpha||this.worldVisible!=this._previous.world_visible}_needsNewBoxCache(){let t=this._getDOMInputBounds();return!this._previous.input_bounds||t.width!=this._previous.input_bounds.width||t.height!=this._previous.input_bounds.height}_createPIXIField(){this._pixi_field_hitbox=new PIXI.Graphics,this._pixi_field_hitbox.alpha=0,this._pixi_field_hitbox.interactive=!0,this._pixi_field_hitbox.caret="text",this._pixi_field_hitbox.on("pointerdown",this._onPIXIFieldFocus.bind(this)),this._pixi_field_hitbox.on("pointerupoutside",this.blur.bind(this)),this.addChild(this._pixi_field_hitbox),this._pixi_field_mask=new PIXI.Graphics,this.addChild(this._pixi_field_mask),this._pixi_field=new PIXI.Text("",{}),this.addChild(this._pixi_field),this._pixi_field.mask=this._pixi_field_mask,this._updateFontMetrics(),this._updatePIXIField()}_updatePIXIField(){let t=this._derivePIXIFieldPadding(),i=this._getDOMInputBounds();this._pixi_field.alpha="DISABLED"===this.state?.6:1,this._pixi_field.style=this._derivePIXIFieldStyle(),this._pixi_field.style.padding=Math.max.apply(Math,t),this._pixi_field.y=this._multiline?t[0]:(i.height-this._pixi_field.height)/2,this._pixi_field.text=this._derivePIXIFieldText();let e=t[3];switch(this._pixi_field.style.align){case"left":e=t[3];break;case"center":e=.5*i.width-.5*this._pixi_field.width;break;case"right":e=i.width-t[1]-this._pixi_field.width}let s=this._dom_copy.offsetWidth-this._dom_copy.scrollWidth;this._pixi_field.x=s<0?e+s:e,this._updatePIXIFieldHitbox(i),this._updatePIXIFieldMask(i,t)}_updatePIXIFieldHitbox(t){this._pixi_field_hitbox.clear(),this._pixi_field_hitbox.beginFill(0),this._pixi_field_hitbox.drawRect(0,0,t.width,t.height),this._pixi_field_hitbox.endFill(),this._pixi_field_hitbox.interactive=!this._disabled}_updatePIXIFieldMask(t,i){this._pixi_field_mask.clear(),this._pixi_field_mask.beginFill(0),this._pixi_field_mask.drawRect(i[3],0,t.width-i[3]-i[1],t.height),this._pixi_field_mask.endFill()}_destroyPIXIField(){this._pixi_field&&(this.removeChild(this._pixi_field),this.removeChild(this._pixi_field_hitbox),this._pixi_field.destroy(),this._pixi_field_hitbox.destroy(),this._pixi_field=null,this._pixi_field_hitbox=null)}_onPIXIFieldFocus(){this._setDOMInputVisible(!0),setTimeout(this._ensureFocus.bind(this),10)}_ensureFocus(){this._hasFocus()||this.focus()}_derivePIXIFieldStyle(){let t=new PIXI.TextStyle;for(var i in this._styles)switch(i){case"color":t.fill=this._styles.color;break;case"fontFamily":case"fontSize":case"fontWeight":case"fontVariant":case"fontStyle":t[i]=this._styles[i];break;case"letterSpacing":t.letterSpacing=parseFloat(this._styles.letterSpacing);break;case"textAlign":t.align=this._styles.textAlign}return this._multiline&&(t.lineHeight=parseFloat(t.fontSize),t.wordWrap=!0,t.wordWrapWidth=this._getDOMInputBounds().width),0===this._dom_input.value.length&&(t.fill=this._placeholderColor),t}_derivePIXIFieldPadding(){let t=this._styles.textIndent?parseFloat(this._styles.textIndent):0;const i=this._styles.padding;if(i){let e="string"==typeof i?i.trim().split(" "):[i+"px"];if(1===e.length){let i=parseFloat(e[0]);return[i,i,i,i+t]}if(2===e.length){let i=parseFloat(e[0]),s=parseFloat(e[1]);return[i,s,i,s+t]}if(4===e.length){let i=e.map((t=>parseFloat(t)));return i[3]+=t,i}}return[0,0,0,t]}_derivePIXIFieldText(){return 0===this._dom_input.value.length?this._placeholder:"password"===this._dom_input.type?"â€¢".repeat(this._dom_input.value.length):this._dom_input.value}_updateFontMetrics(){const t=this._derivePIXIFieldStyle().toFontString();this._font_metrics=PIXI.TextMetrics.measureFont(t)}_buildBoxCache(){this._destroyBoxCache();let t=["DEFAULT","FOCUSED","DISABLED","VALID","ERROR"],i=this._getDOMInputBounds();for(let e in t){const s=this._box_generator(i.width,i.height,t[e]);s&&(this._box_cache[t[e]]=s)}this._previous.input_bounds=i}_destroyBoxCache(){this._box&&(this.removeChild(this._box),this._box=null);for(let t in this._box_cache)this._box_cache[t].destroy(),this._box_cache[t]=null,delete this._box_cache[t]}_hasFocus(){return document.activeElement===this._dom_input}_setDOMInputVisible(t){this._dom_input.style.display=t?"block":"none",this._dom_copy.style.display=t?"block":"none"}_getCanvasBounds(){let t=this._last_renderer.view.getBoundingClientRect(),i={top:t.top,left:t.left,width:t.width,height:t.height};return i.left+=window.scrollX,i.top+=window.scrollY,i}_getDOMInputBounds(){let t=!1;this._dom_added||(document.body.appendChild(this._dom_input),t=!0);let i=this._dom_input.style.transform,e=this._dom_input.style.display;this._dom_input.style.transform="",this._dom_input.style.display="block",this._dom_copy.style.transform="",this._dom_copy.style.display="block";let s=this._dom_input.getBoundingClientRect();return this._dom_input.style.transform=i,this._dom_input.style.display=e,this._dom_copy.style.transform=i,this._dom_copy.style.display=e,t&&document.body.removeChild(this._dom_input),s}_getDOMRelativeWorldTransform(){let t=this._last_renderer.view.getBoundingClientRect(),i=this.worldTransform.clone();return i.scale(this._resolution,this._resolution),i.scale(t.width/this._last_renderer.width,t.height/this._last_renderer.height),i}_pixiMatrixToCSS(t){return"matrix("+[t.a,t.b,t.c,t.d,t.tx,t.ty].join(",")+")"}_comparePixiMatrices(t,i){return!(!t||!i)&&t.a===i.a&&t.b===i.b&&t.c===i.c&&t.d===i.d&&t.tx===i.tx&&t.ty===i.ty}_compareClientRects(t,i){return!(!t||!i)&&t.left===i.left&&t.top===i.top&&t.width===i.width&&t.height===i.height}}class h extends PIXI.Graphics{constructor(t){super(),this.offsetLeft=0,this.alpha=.8,this.beginFill(t.fill),this.drawRect(0,0,t.width,t.height),this.endFill(),this.closePath(),gsap.registerPlugin(PixiPlugin),gsap.to(this,{alpha:0,duration:.4,loop:!0,ease:"power1.inOut",repeat:-1,yoyo:!0})}}function d(t){if(t.default)t.focused=t.focused||t.default,t.disabled=t.disabled||t.default;else{let i=t;(t={}).default=t.focused=t.disabled=i}return function(i,e,s){let o=t[s.toLowerCase()];if(o){let t=new PIXI.Graphics;return o.fill&&t.beginFill(o.fill),o.stroke&&t.lineStyle(o.stroke.width||1,o.stroke.color||0,o.stroke.alpha||1,1),o.rounded?t.drawRoundedRect(0,0,i,e,o.rounded):t.drawRect(0,0,i,e),t.endFill(),t.closePath(),t}}}}},i={};function e(s){var o=i[s];if(void 0!==o)return o.exports;var h=i[s]={exports:{}};return t[s](h,h.exports,e),h.exports}e.d=(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(138)})();