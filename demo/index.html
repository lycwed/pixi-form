<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
  <link rel="stylesheet" href="assets/styles.css"></link>
  <script src="//cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.9/pixi.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/PixiPlugin.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
</head>

<body onload="init()">
	<div id="canvas-placeholder"></div>
	<div class="controls">
		<div>
			<label>Font</label>
			<select id="font">
				<option value="Arial">Arial</option>
				<option value="Helvetica">Helvetica</option>
				<option value="Times New Roman">Times New Roman</option>
				<option value="Tahoma">Tahoma</option>
			</select>
		</div>
		<div>
			<label>Size</label>
			<input type="number" value="36" id="size"/>
		</div>
		<div>
			<label>Bold</label>
			<input type="checkbox" id="bold"/>
		</div>
		<div>
			<label>Padding</label>
			<input type="number" value="12" id="padding"/>
		</div>
		<div>
			<input type="button" value="Disable" id="disable"/>
		</div>
		<div>
			<input type="button" value="Select" id="select"/>
		</div>
		<div>
			<input type="button" value="Animate" id="animate"/>
		</div>
	</div>

	<div class="source">
    <pre>
			<code class="javascript">
var width = 1000;
var height = 600;
var app = new PIXI.Application(
	{ 
		width: width,
		height: height,
		antialias: true,
		backgroundColor: 0xffffff,
		resolution: window.devicePixelRatio || 1
	}
);

document.getElementById('canvas-placeholder').appendChild(app.view)

var styles = new PIXI.form.TextInputStyles({
	fontFamily: 'Arial',
	fontSize: 36,
	padding: 12,
	width: 500,
	color: 0x333333,
	backgroundColor: 0xEFEFEF,
	border: {
		radius: 4,
		width: 2,
		color: 0xACACAC,
	},
});

// Optional
gsap.registerPlugin(PixiPlugin);

var email = new PIXI.form.TextInput({
	type: 'text',
	placeholder: 'Enter your email...',
	styles: styles, // Optional
	gsap: gsap, // Optional
	rules: [ // Optional
		{
			type: 'required',
			onFail: function() {
				console.log('Email required');
			}
		},
		{
			type: 'email',
			onFail: function() {
				console.log('Email not correct');
			}
		},
	]
});

var password = new PIXI.form.TextInput({
	type: 'password',
	placeholder: 'Enter your password...',
	styles: styles, // Optional
	gsap: gsap, // Optional
	rules: [ // Optional
		{
			type: 'required',
			onFail: function() {
				console.log('Password required');
			}
		},
		{
			type: 'min:3',
			onFail: function() {
				console.log('Password min 3 chars');
			}
		},
		{
			validator: function(value) {
				return value === 'password';
			},
			onFail: function() {
				console.log('it must be entered password');
			}
		},
	]
});

email.x = width / 2;
email.y = height / 2;
email.pivot.x = email.width / 2;
email.pivot.y = email.height / 2;

password.x = width / 2;
password.y = email.y + email.height + 20;
password.pivot.x = password.width / 2;
password.pivot.y = password.height / 2;

app.stage.addChild(email, password);
			</code>
    </pre>
	</div>
</body>

<script type="text/javascript">

var app;

function init() {
	var width = 1000;
	var height = 600;
	app = new PIXI.Application(
		{ 
			width: width,
			height: height,
			antialias: true,
			backgroundColor: 0xffffff,
			resolution: window.devicePixelRatio || 1
		}
	);

	document.getElementById('canvas-placeholder').appendChild(app.view)

	var styles = new PIXI.form.TextInputStyles({
		fontFamily: 'Arial',
		fontSize: 36,
		padding: 12,
		width: 500,
		color: 0x333333,
		backgroundColor: 0xEFEFEF,
		border: {
			radius: 4,
			width: 2,
			color: 0xACACAC,
		},
	});

	gsap.registerPlugin(PixiPlugin);

	var email = new PIXI.form.TextInput({
    type: 'text',
    placeholder: 'Enter your email...',
		styles: styles,
		gsap: gsap,
		rules: [
			{
				type: 'required',
				onFail: function() {
					console.log('Email required');
				}
			},
			{
				type: 'email',
				onFail: function() {
					console.log('Email not correct');
				}
			},
		]
	});

	var password = new PIXI.form.TextInput({
    type: 'password',
    placeholder: 'Enter your password...',
		styles: styles,
		gsap: gsap,
		rules: [
			{
				type: 'required',
				onFail: function() {
					console.log('Password required');
				}
			},
			{
				type: 'min:3',
				onFail: function() {
					console.log('Password min 3 chars');
				}
			},
			{
				validator: function(value) {
					return value === 'password';
				},
				onFail: function() {
					console.log('it must be entered password');
				}
			},
		]
	});

	email.x = width / 2;
	email.y = height / 2;
	email.pivot.x = email.width / 2;
	email.pivot.y = email.height / 2;

	password.x = width / 2;
	password.y = email.y + email.height + 20;
	password.pivot.x = password.width / 2;
	password.pivot.y = password.height / 2;

	console.log(email, password);

	app.stage.addChild(email, password);

	setupDemoControls();

	return app;
}

// DEMO CONTROLS

var timer;

function setAnimation(on){
	if (on) {
		app.ticker.add(animateLoop)
	} else {
		app.ticker.remove(animateLoop)
		timer = 0
		animateLoop()
	}
}

function animateLoop(){
	input.rotation = timer/50
	input.scale.x = 1+Math.sin(timer/25)*0.3
	input.scale.y = 1+Math.sin(timer/32)*0.2
	timer++
}

function setupDemoControls(){
	document.getElementById('font').onchange = function(){
		input.setInputStyle('fontFamily',this.value, true)
	}
	document.getElementById('size').onchange = function(){
		input.setInputStyle('fontSize',this.value+'px', true)
	}
	document.getElementById('bold').onchange = function(){
		input.setInputStyle('fontWeight',this.checked ? 'bold' : 'normal', true)
	}
	document.getElementById('padding').onchange = function(){
		input.setInputStyle('padding',this.value+'px', true)
	}
	document.getElementById('disable').onclick = function(){
		this._toggle = !this._toggle
		input.disabled = this._toggle
		this.value = this._toggle ? 'Enable' : 'Disable'
	}
	document.getElementById('select').onclick = function(){
		input.select()
	}
	document.getElementById('animate').onclick = function(){
		this._toggle = !this._toggle
		setAnimation(this._toggle)
		this.value = this._toggle ? 'Ok, enough' : 'Animate'
	}
}

hljs.configure({tabReplace: '    '})
hljs.highlightAll();

</script>
</html>