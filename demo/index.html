<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
  <link rel="stylesheet" href="assets/styles.css"></link>
  <script src="//cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.9/pixi.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/PixiPlugin.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
</head>

<body onload="init()">
	<div id="canvas-placeholder"></div>
	<div class="controls">
		<div>
			<label>Font</label>
			<select id="font">
				<option value="Arial">Arial</option>
				<option value="Helvetica">Helvetica</option>
				<option value="Times New Roman">Times New Roman</option>
				<option value="Tahoma">Tahoma</option>
			</select>
		</div>
		<div>
			<label>Size</label>
			<input type="number" value="36" id="size"/>
		</div>
		<div>
			<label>Bold</label>
			<input type="checkbox" id="bold"/>
		</div>
		<div>
			<label>Padding</label>
			<input type="number" value="12" id="padding"/>
		</div>
		<div>
			<input type="button" value="Disable" id="disable"/>
		</div>
		<div>
			<input type="button" value="Select" id="select"/>
		</div>
		<div>
			<input type="button" value="Animate" id="animate"/>
		</div>
	</div>

	<div class="source">
    <pre>
			<code class="javascript">
var width = 1000;
var height = 600;
var app = new PIXI.Application(
	{ 
		width: width,
		height: height,
		antialias: true,
		backgroundColor: 0xffffff,
		resolution: window.devicePixelRatio || 1
	}
);

document.getElementById('canvas-placeholder').appendChild(app.view);

var styles = new PIXI.form.TextInputStyles({
	fontFamily: 'impact',
	fontSize: 36,
	padding: 12,
	width: 500,
	color: 0x333333,
	backgroundColor: 0xEFEFEF,
	border: {
		position: 'bottom',
		radius: 0,
		width: 1,
		color: 0xDFDFDF,
	},
});

gsap.registerPlugin(PixiPlugin);

var email = new PIXI.form.TextInput({
	type: 'text',
	name: 'email',
	placeholder: 'Enter your email...',
	styles: styles,
	gsap: gsap,
	rules: [
		{
			type: 'required',
			onFail: function() {
				console.log('Email required');
			}
		},
		{
			type: 'email',
			onFail: function() {
				console.log('Email not correct');
			}
		},
	]
});

var password = new PIXI.form.TextInput({
	type: 'password',
	name: 'password',
	placeholder: 'Enter your password...',
	styles: styles,
	gsap: gsap,
	rules: [
		{
			type: 'required',
			onFail: function() {
				console.log('Password required');
			}
		},
		{
			type: 'min:3',
			onFail: function() {
				console.log('Password min 3 chars');
			}
		},
		{
			validator: function(value) {
				return value === 'password';
			},
			onFail: function() {
				console.log('it must be entered password');
			}
		},
	]
});

// All here is optional, you can use
var button = new PIXI.Graphics();
button.lineStyle(1, 0x75F94C, 1, 0);
button.beginFill(0x6FD254);
button.drawRoundedRect(0, 0, 530, 70, 12);
button.endFill();
button.on('pointerover', () => {
	button.scale.set(1.1);
});
button.on('pointerout', () => {
	button.scale.set(1);
});

var buttonStyles = new PIXI.TextStyle({
	fontFamily : 'impact',
	fontSize: 36,
	fill : 0xffffff,
	align : 'center',
	dropShadow: true,
	dropShadowColor: 0x75F94C,
	dropShadowBlur: 20,
	dropShadowAngle: 0,
	dropShadowDistance: 0,
});

var buttonText = new PIXI.Text('SUBMIT RIGHT NOW!', buttonStyles);
buttonText.x = button.width / 2;
buttonText.y = button.height / 2;
buttonText.pivot.x = buttonText.width / 2;
buttonText.pivot.y = buttonText.height / 2;
button.addChild(buttonText);

// You can use form to wrap inputs with all logic to submit form 
var form = new PIXI.form.Form({
	width: width,
	height: height,
	alignItems: 'center',
	spaceBetween: 10,
});

form.y = 100;
form.addInput(email);
form.addInput(password);
form.setSubmitButton(button);
form.on('submit', (data) => {
	console.log('submit data', data);
	alert(`Wow! ${data.email} ${data.password}`)
});

app.stage.addChild(form);
			</code>
    </pre>
	</div>
</body>

<script type="text/javascript">

var app;

function init() {
	var width = 1000;
	var height = 600;
	app = new PIXI.Application(
		{ 
			width: width,
			height: height,
			antialias: true,
			backgroundColor: 0xffffff,
			resolution: window.devicePixelRatio || 1
		}
	);

	document.getElementById('canvas-placeholder').appendChild(app.view);

	var styles = new PIXI.form.TextInputStyles({
		fontFamily: 'impact',
		fontSize: 36,
		padding: 12,
		width: 500,
		color: 0x333333,
		backgroundColor: 0xEFEFEF,
		border: {
			position: 'bottom',
			radius: 0,
			width: 1,
			color: 0xDFDFDF,
		},
	});

	gsap.registerPlugin(PixiPlugin);

	var email = new PIXI.form.TextInput({
    type: 'text',
    name: 'email',
    placeholder: 'Enter your email...',
		styles: styles,
		gsap: gsap,
		rules: [
			{
				type: 'required',
				onFail: function() {
					console.log('Email required');
				}
			},
			{
				type: 'email',
				onFail: function() {
					console.log('Email not correct');
				}
			},
		]
	});

	var password = new PIXI.form.TextInput({
    type: 'password',
    name: 'password',
    placeholder: 'Enter your password...',
		styles: styles,
		gsap: gsap,
		rules: [
			{
				type: 'required',
				onFail: function() {
					console.log('Password required');
				}
			},
			{
				type: 'min:3',
				onFail: function() {
					console.log('Password min 3 chars');
				}
			},
			{
				validator: function(value) {
					return value === 'password';
				},
				onFail: function() {
					console.log('it must be entered password');
				}
			},
		]
	});

	// All here is optional, you can use
	var button = new PIXI.Graphics();
	button.lineStyle(1, 0x75F94C, 1, 0);
	button.beginFill(0x6FD254);
	button.drawRoundedRect(0, 0, 530, 70, 12);
	button.endFill();
	button.on('pointerover', () => {
		button.scale.set(1.1);
	});
	button.on('pointerout', () => {
		button.scale.set(1);
	});

	var buttonStyles = new PIXI.TextStyle({
		fontFamily : 'impact',
		fontSize: 36,
		fill : 0xffffff,
		align : 'center',
		dropShadow: true,
    dropShadowColor: 0x75F94C,
    dropShadowBlur: 20,
    dropShadowAngle: 0,
    dropShadowDistance: 0,
	});

	var buttonText = new PIXI.Text('SUBMIT RIGHT NOW!', buttonStyles);
	buttonText.x = button.width / 2;
	buttonText.y = button.height / 2;
	buttonText.pivot.x = buttonText.width / 2;
	buttonText.pivot.y = buttonText.height / 2;
	button.addChild(buttonText);

	// You can use form to wrap inputs with all logic to submit form 
	var form = new PIXI.form.Form({
		width: width,
		height: height,
		alignItems: 'center',
		spaceBetween: 10,
	});

	form.y = 100;
	form.addInput(email);
	form.addInput(password);
	form.setSubmitButton(button);
	form.on('submit', (data) => {
		console.log('submit data', data);
		alert(`Wow! ${data.email} ${data.password}`)
	});

	app.stage.addChild(form);

	setupDemoControls();

	return app;
}

// DEMO CONTROLS

var timer;

function setAnimation(on){
	if (on) {
		app.ticker.add(animateLoop)
	} else {
		app.ticker.remove(animateLoop)
		timer = 0
		animateLoop()
	}
}

function animateLoop(){
	input.rotation = timer/50
	input.scale.x = 1+Math.sin(timer/25)*0.3
	input.scale.y = 1+Math.sin(timer/32)*0.2
	timer++
}

function setupDemoControls(){
	document.getElementById('font').onchange = function(){
		input.setInputStyle('fontFamily',this.value, true)
	}
	document.getElementById('size').onchange = function(){
		input.setInputStyle('fontSize',this.value+'px', true)
	}
	document.getElementById('bold').onchange = function(){
		input.setInputStyle('fontWeight',this.checked ? 'bold' : 'normal', true)
	}
	document.getElementById('padding').onchange = function(){
		input.setInputStyle('padding',this.value+'px', true)
	}
	document.getElementById('disable').onclick = function(){
		this._toggle = !this._toggle
		input.disabled = this._toggle
		this.value = this._toggle ? 'Enable' : 'Disable'
	}
	document.getElementById('select').onclick = function(){
		input.select()
	}
	document.getElementById('animate').onclick = function(){
		this._toggle = !this._toggle
		setAnimation(this._toggle)
		this.value = this._toggle ? 'Ok, enough' : 'Animate'
	}
}

hljs.configure({tabReplace: '    '})
hljs.highlightAll();

</script>
</html>